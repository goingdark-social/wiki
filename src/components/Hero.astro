---
/**
 * Hero - Homepage hero section
 * Full-width background with centered content matching navigation width
 */
import Search from './Search';
import Icon from './Icon.astro';
import { getCollection } from 'astro:content';

// Get docs for search
const allDocs = await getCollection('docs');
const searchDocs = allDocs.map(doc => ({
  slug: doc.slug,
  title: doc.data.title,
  description: doc.data.description
}));
---

<section class="hero-section">
  <div class="container-content">
    <div class="hero-content">

      <!-- Welcome badge -->
      <div class="hero-badge-styled">
        <Icon name="hand-wave" size={24} class="hero-badge-icon" />
        <span>Welcome to our community!</span>
      </div>

      <!-- Heading -->
      <h1 class="hero-title">
        <span class="hero-title-primary-gradient">GoingDark.social</span>
        <br />
        <span class="hero-title-secondary">Community Wiki</span>
      </h1>

      <!-- Description -->
      <p class="hero-description">
        Your friendly guide to our privacy-focused Mastodon instance.
        <br class="hero-br" />
        Learn about our values, get started, and join our community.
      </p>

      <!-- Quick actions -->
      <div class="hero-actions">
        <a href="/docs/user/getting-started" class="btn btn-ghost">
          <Icon name="rocket" size={18} class="hero-action-icon" />
          <span>Quick Start</span>
        </a>
        <a href="/docs/policies/rules" class="btn btn-ghost">
          <Icon name="scroll-text" size={18} class="hero-action-icon" />
          <span>Community Rules</span>
        </a>
        <a href="https://goingdark.social" target="_blank" rel="noopener noreferrer" class="btn btn-primary">
          <Icon name="sparkles" size={18} class="hero-action-icon" />
          <span>Join Instance</span>
          <Icon name="arrow-right" size={16} class="hero-action-arrow" />
        </a>
      </div>

      <!-- Decorative accents -->
      <div class="hero-accent hero-accent-top"></div>
      <div class="hero-accent hero-accent-bottom"></div>

      <!-- Search -->
      <div class="hero-search">
        <Search client:load docs={searchDocs} />
      </div>

      <!-- Search hint -->
      <div class="hero-hint">
        <div class="hero-hint-item">
          <kbd class="hero-kbd">Ctrl+K</kbd>
          <span>to search</span>
        </div>
        <span class="hero-hint-divider">â€¢</span>
        <span class="hero-hint-item">
          <svg class="hero-hint-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
          </svg>
          <span>Instant answers</span>
        </span>
      </div>

    </div>
  </div>
</section>
